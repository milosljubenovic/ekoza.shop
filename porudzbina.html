---
layout: default
title: Zavr≈°i Porud≈æbinu
---

<div class="bg-gradient-to-b from-slate-900 to-slate-800 min-h-screen py-16">
  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-5xl font-bold text-white mb-4">üõí Zavr≈°i Porud≈æbinu</h1>
      <p class="text-gray-300 text-lg">Popunite podatke i izaberite naƒçin plaƒáanja</p>
    </div>

    {% if site.maintenance_mode %}
    <!-- Maintenance Mode Message -->
    <div class="max-w-2xl mx-auto">
      <div class="bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl p-8 shadow-2xl">
        <div class="text-center">
          <svg class="w-20 h-20 mx-auto mb-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
          <h2 class="text-3xl font-bold text-white mb-4">
            Poruƒçivanje privremeno nedostupno
          </h2>
          <p class="text-white text-lg mb-6">
            Izvinjavamo se zbog tehniƒçkih problema. Na≈° sistem za poruƒçivanje je trenutno nedostupan.
          </p>
          <p class="text-white mb-8">
            Molimo vas da nastavite porud≈æbinu preko na≈°e Facebook stranice gde ƒáe vam na≈° tim rado pomoƒái!
          </p>
          <div class="flex flex-col gap-3 max-w-md mx-auto">
            <a href="https://www.facebook.com/foteljicee/" target="_blank" rel="noopener noreferrer" 
               class="inline-flex items-center justify-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg">
              <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
              Posetite na≈°u Facebook stranicu
            </a>
            <a href="https://m.me/{{ site.contact.facebook_messenger }}" target="_blank" rel="noopener noreferrer" 
               class="inline-flex items-center justify-center px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white text-lg font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg">
              <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.477 2 2 6.145 2 11.243c0 2.898 1.445 5.48 3.698 7.164V22l3.485-1.914c.93.256 1.91.395 2.817.395 5.523 0 10-4.145 10-9.243S17.523 2 12 2zm1.041 12.443l-2.567-2.737-5.006 2.737 5.509-5.847 2.631 2.737 4.942-2.737-5.509 5.847z"/>
              </svg>
              Kontaktirajte nas preko Messengera
            </a>
          </div>
          <div class="mt-8 pt-6 border-t border-white border-opacity-30">
            <p class="text-white text-sm mb-2">Alternativno, mo≈æete nas pozvati na:</p>
            <a href="tel:{{ site.store.phone }}" class="text-white text-xl font-bold hover:underline">
              {{ site.store.phone }}
            </a>
          </div>
        </div>
      </div>
    </div>
    {% else %}

    <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
      <!-- Order Form -->
      <div class="xl:col-span-2 space-y-6">
        <form id="checkoutForm" class="space-y-6">
          <!-- Contact Information -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
              Kontakt Informacije
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="firstName" class="block text-sm font-semibold text-white mb-2">
                  Ime <span class="text-red-400">*</span>
                </label>
                <input type="text" id="firstName" name="firstName" required
                       class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
              </div>

              <div>
                <label for="lastName" class="block text-sm font-semibold text-white mb-2">
                  Prezime <span class="text-red-400">*</span>
                </label>
                <input type="text" id="lastName" name="lastName" required
                       class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
              </div>

              <div>
                <label for="email" class="block text-sm font-semibold text-white mb-2">
                  Email <span class="text-red-400">*</span>
                </label>
                <input type="email" id="email" name="email" required
                       class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
              </div>

              <div>
                <label for="phone" class="block text-sm font-semibold text-white mb-2">
                  Telefon <span class="text-red-400">*</span>
                </label>
                <input type="tel" id="phone" name="phone" required placeholder="+381 XX XXX XXXX"
                       class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
              </div>
            </div>
          </div>

          <!-- Delivery Address -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
              Adresa Dostave
            </h2>

            <div class="space-y-6">
              <div>
                <label for="address" class="block text-sm font-semibold text-white mb-2">
                  Ulica i broj <span class="text-red-400">*</span>
                </label>
                <input type="text" id="address" name="address" required placeholder="Ulica 123"
                       class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
              </div>

              <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                  <label for="city" class="block text-sm font-semibold text-white mb-2">
                    Grad <span class="text-red-400">*</span>
                  </label>
                  <input type="text" id="city" name="city" required
                         class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
                </div>

                <div>
                  <label for="postalCode" class="block text-sm font-semibold text-white mb-2">
                    Po≈°tanski broj <span class="text-red-400">*</span>
                  </label>
                  <input type="text" id="postalCode" name="postalCode" required placeholder="11000"
                         class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
                </div>

                <div>
                  <label for="country" class="block text-sm font-semibold text-white mb-2">
                    Dr≈æava <span class="text-red-400">*</span>
                  </label>
                  <input type="text" id="country" name="country" value="Srbija" required disabled
                         class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors">
                </div>
              </div>
            </div>
          </div>

          <!-- Shipping Method -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
              </svg>
              Naƒçin Dostave
            </h2>

            <div class="space-y-3">
              <!-- Standard Shipping -->
              <label class="payment-option cursor-pointer block">
                <input type="radio" name="shippingMethod" value="standard" required class="shipping-radio hidden" checked>
                <div class="payment-card bg-slate-900 rounded-xl p-4 border-2 border-slate-600 transition-all hover:border-purple-500">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3 flex-1">
                      <div class="text-3xl flex-shrink-0">üì¶</div>
                      <div class="flex-1 min-w-0">
                        <h3 class="text-base font-bold text-white">Brza Po≈°ta</h3>
                        <p class="text-xs text-gray-400">Do {{ site.shipping.standard_delivery_days }} ‚Ä¢ {{ site.shipping.standard_price }} RSD</p>
                      </div>
                    </div>
                    <div class="check-circle w-6 h-6 rounded-full border-2 border-slate-600 flex items-center justify-center flex-shrink-0 ml-3">
                      <svg class="w-3 h-3 text-white opacity-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                      </svg>
                    </div>
                  </div>
                  <div class="shipping-description hidden bg-slate-800 rounded-lg p-3 mt-3 border-l-4 border-purple-500">
                    <p class="text-xs text-gray-300 leading-relaxed">
                      üìÆ Kurirska slu≈æba: <span class="font-bold text-white">{{ site.shipping.courier_name }}</span><br>
                      üí∞ Cena dostave: <span class="font-bold text-white">{{ site.shipping.standard_price }} RSD</span><br>
                      ‚è±Ô∏è Vreme isporuke: Do {{ site.shipping.standard_delivery_days }}
                    </p>
                  </div>
                </div>
              </label>

              <!-- Pickup -->
              <label class="payment-option cursor-pointer block">
                <input type="radio" name="shippingMethod" value="pickup" class="shipping-radio hidden">
                <div class="payment-card bg-slate-900 rounded-xl p-4 border-2 border-slate-600 transition-all hover:border-purple-500">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                      <div class="text-3xl">üè™</div>
                      <div>
                        <h3 class="text-base font-bold text-white">Liƒçno preuzimanje</h3>
                        <p class="text-xs text-gray-400">{{ site.shipping.pickup_delivery_days }} ‚Ä¢ Besplatno</p>
                      </div>
                    </div>
                    <div class="check-circle w-6 h-6 rounded-full border-2 border-slate-600 flex items-center justify-center flex-shrink-0">
                      <svg class="w-3 h-3 text-white opacity-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </label>
            </div>
          </div>

          <!-- Payment Method -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
              </svg>
              Naƒçin Plaƒáanja
            </h2>

            <div class="space-y-3">
              <!-- Cash on Delivery -->
              <label class="payment-option cursor-pointer block">
                <input type="radio" name="paymentMethod" value="pouzecem" required class="payment-radio hidden" checked>
                <div class="payment-card bg-slate-900 rounded-xl p-4 border-2 border-slate-600 transition-all hover:border-purple-500">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3 flex-1">
                      <div class="text-3xl flex-shrink-0">üíµ</div>
                      <div class="flex-1 min-w-0">
                        <h3 class="text-base font-bold text-white">Plaƒáanje pouzeƒáem</h3>
                        <p class="text-xs text-gray-400 truncate">Plaƒáanje kuriru prilikom preuzimanja</p>
                      </div>
                    </div>
                    <div class="check-circle w-6 h-6 rounded-full border-2 border-slate-600 flex items-center justify-center flex-shrink-0 ml-3">
                      <svg class="w-3 h-3 text-white opacity-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                      </svg>
                    </div>
                  </div>
                  <div class="payment-description hidden bg-slate-800 rounded-lg p-3 mt-3 border-l-4 border-purple-500">
                    <p class="text-xs text-gray-300 leading-relaxed">
                      ‚úì Platite gotovinom kuriru prilikom preuzimanja paketa<br>
                      ‚úì Proverite proizvod pre plaƒáanja
                    </p>
                  </div>
                </div>
              </label>

              <!-- Bank Transfer -->
              <label class="payment-option cursor-pointer block">
                <input type="radio" name="paymentMethod" value="uplatnica" class="payment-radio hidden">
                <div class="payment-card bg-slate-900 rounded-xl p-4 border-2 border-slate-600 transition-all hover:border-purple-500">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3 flex-1">
                      <div class="text-3xl flex-shrink-0">üè¶</div>
                      <div class="flex-1 min-w-0">
                        <h3 class="text-base font-bold text-white">Uplata na raƒçun pre slanja</h3>
                        <p class="text-xs text-gray-400 truncate">Prenos novca na tekuƒái raƒçun</p>
                      </div>
                    </div>
                    <div class="check-circle w-6 h-6 rounded-full border-2 border-slate-600 flex items-center justify-center flex-shrink-0 ml-3">
                      <svg class="w-3 h-3 text-white opacity-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                      </svg>
                    </div>
                  </div>
                  <div class="payment-description hidden bg-slate-800 rounded-lg p-3 mt-3 border-l-4 border-purple-500">
                    <p class="text-xs text-gray-300 mb-2">
                      Izvr≈°ite uplatu na sledeƒái raƒçun:
                    </p>
                    <div class="bg-slate-900 rounded p-2 text-xs space-y-1">
                      <p class="text-gray-400">Primalac: <span class="text-white font-semibold">{{ site.payment.account_holder }}</span></p>
                      <p class="text-gray-400">Banka: <span class="text-white font-semibold">{{ site.payment.bank_name }}</span></p>
                      <p class="text-gray-400">Raƒçun: <span class="text-white font-mono">{{ site.payment.account_number }}</span></p>
                      <p class="text-gray-400">Poziv na broj: <span class="text-white font-mono" id="orderReference">Broj porud≈æbine (Dostupno nakon poruƒçivanja) </span></p>
                    </div>
                    <p class="text-xs text-gray-400 mt-2">
                      * Roba se ≈°alje nakon prijema uplate (1-2 radna dana)
                    </p>
                  </div>
                </div>
              </label>
            </div>
          </div>

          <!-- Additional Notes -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
              </svg>
              Napomena (opciono)
            </h2>

            <textarea id="notes" name="notes" rows="4" placeholder="Dodatne napomene za va≈°u porud≈æbinu..."
                      class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-gray-200 placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-colors resize-none"></textarea>
          </div>

          <!-- Terms and Conditions -->
          <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600">
            <label class="flex items-start cursor-pointer">
              <input type="checkbox" id="terms" name="terms" required class="mt-1 w-5 h-5 text-purple-600 bg-slate-900 border-slate-600 rounded focus:ring-purple-500">
              <span class="ml-3 text-sm text-gray-300">
                Sla≈æem se sa <a href="{{ '/u' | relative_url }}slovi-koriscenja/" class="text-purple-400 hover:text-purple-300 underline" target="_blank">uslovima kori≈°ƒáenja</a> 
                i <a href="{{ '/p' | relative_url }}olitika-privatnosti/" class="text-purple-400 hover:text-purple-300 underline" target="_blank">politikom privatnosti</a>. <span class="text-red-400">*</span>
              </span>
            </label>
          </div>
        </form>
      </div>

      <!-- Order Summary -->
      <div class="xl:col-span-1">
        <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-6 border border-slate-600 xl:sticky xl:top-24 max-h-[calc(100vh-8rem)] overflow-hidden flex flex-col">
          <h2 class="text-2xl font-bold text-white mb-6 flex items-center justify-between">
            <div class="flex items-center">
              <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
              </svg>
              Pregled Porud≈æbine
            </div>
            <span id="orderItemCount" class="text-sm font-normal text-purple-400 bg-purple-400/20 px-3 py-1 rounded-full">0 proizvoda</span>
          </h2>

          <!-- Cart Items -->
          <div id="orderSummaryItems" class="space-y-4 mb-6 overflow-y-auto flex-1 pr-2 scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800 xl:min-h-[280px]">
            <!-- Items will be dynamically inserted -->
          </div>

          <!-- Totals -->
          <div class="border-t border-slate-600 pt-4 space-y-2 flex-shrink-0">
            <div class="flex justify-between text-sm text-gray-300">
              <span>Meƒëuzbir:</span>
              <span id="subtotalAmount" class="font-semibold">0 RSD</span>
            </div>
            <div class="flex justify-between text-sm text-gray-300">
              <span>Dostava:</span>
              <span id="shippingAmount" class="font-semibold">Besplatna</span>
            </div>
            <div class="flex justify-between text-xl font-bold border-t border-slate-600 pt-3 mt-3">
              <span class="text-white">Ukupno:</span>
              <span id="totalAmount" class="text-gradient">0 RSD</span>
            </div>
          </div>

          <!-- Submit Buttons -->
          <div class="mt-6">
            <p class="text-center text-sm font-semibold text-white mb-3">Poruƒçi Preko:</p>
            <div class="space-y-2">
              <button type="button" id="orderViberBtn"
                      class="w-full bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-3 rounded-xl font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:from-purple-700 hover:to-purple-600 hover:scale-[1.02] active:scale-[0.98]">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M11.398.002C9.473.028 5.331.344 2.763 2.912 1.084 4.592.408 6.896.407 9.677c-.002 2.782-.005 8.132 5.275 9.567h.005l-.005 2.003s-.037.926.574 1.123c.736.238 1.164-.5 1.863-1.31.382-.44.904-1.05 1.302-1.525 3.588.303 6.344-.39 6.658-.493.721-.236 4.803-.763 5.467-6.283.687-5.692-.42-9.28-2.147-10.898C17.398-.002 13.285-.028 11.398.002m.067 1.697c1.733-.026 5.468.007 7.325 1.634 1.439 1.267 2.283 4.191 1.742 8.917-.542 4.736-3.805 5.052-4.389 5.242-.271.09-2.786.737-5.917.461 0 0-2.342 2.822-3.072 3.553-.115.117-.262.17-.357.15-.13-.027-.166-.187-.165-.412l.015-3.533s-.008-.005-.011-.007C1.862 15.884 1.86 11.19 1.862 9.04c0-2.426.565-4.346 1.987-5.77 2.155-2.155 5.853-2.571 7.615-2.571"/>
                </svg>
                Viber
              </button>

              <button type="button" id="orderWhatsAppBtn"
                      class="w-full bg-gradient-to-r from-green-600 to-green-500 text-white px-4 py-3 rounded-xl font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:from-green-700 hover:to-green-600 hover:scale-[1.02] active:scale-[0.98]">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                </svg>
                WhatsApp
              </button>

              <button type="button" id="orderFacebookBtn"
                      class="w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-3 rounded-xl font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:from-blue-700 hover:to-blue-600 hover:scale-[1.02] active:scale-[0.98]">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"/>
                </svg>
                Facebook
              </button>

              <button type="button" id="orderSMSBtn"
                      class="w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white px-4 py-3 rounded-xl font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:from-orange-700 hover:to-orange-600 hover:scale-[1.02] active:scale-[0.98]">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                </svg>
                SMS
              </button>

              <button type="button" id="orderCallBtn"
                      class="w-full bg-gradient-to-r from-red-600 to-red-500 text-white px-4 py-3 rounded-xl font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:from-red-700 hover:to-red-600 hover:scale-[1.02] active:scale-[0.98]">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                Poziv
              </button>

              <button type="button" disabled
                      class="w-full bg-gradient-to-r from-slate-600 to-slate-500 text-white px-4 py-3 rounded-xl font-bold text-sm shadow-lg flex items-center justify-center gap-2 opacity-50 cursor-not-allowed">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                </svg>
                Poruƒçi preko sajta
              </button>
            </div>

            <!-- Disclaimer -->
            <button type="button" onclick="showPersonalContactInfo()" class="w-full text-center text-xs text-gray-400 hover:text-gray-300 transition-colors mt-3 underline">
              Za≈°to je poruƒçivanje preko sajta onemoguƒáeno?
            </button>
          </div>

          <!-- Back to Cart -->
          <button type="button" onclick="showCart()" 
             class="w-full mt-3 text-center text-purple-400 hover:text-purple-300 text-sm py-2 transition-colors">
            ‚Üê Nazad na korpu
          </button>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4">
  <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600 max-w-md w-full text-center">
    <div class="mb-6">
      <div class="w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4">
        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-white mb-2">Porud≈æbina Uspe≈°na! üéâ</h2>
      <p class="text-gray-300">Va≈°a porud≈æbina je primljena.</p>
    </div>

    <div class="bg-slate-900 rounded-xl p-4 mb-6">
      <p class="text-sm text-gray-400 mb-2">Broj porud≈æbine:</p>
      <p id="orderNumber" class="text-2xl font-bold text-gradient">#12345</p>
    </div>

    <p class="text-gray-300 mb-6 text-sm">
      Uskoro ƒáete dobiti potvrdu na email. Hvala ≈°to ste kupovali kod nas!
    </p>

    <div class="flex flex-col sm:flex-row gap-3 justify-center">
      <a href="{{ '/p' | relative_url }}racenje-porudzbine/?orderNumber=" id="trackOrderLink" class="btn-primary-modern inline-block">
        Prati Porud≈æbinu
      </a>
      <a href="/" class="btn-secondary-modern inline-block">
        Nazad na poƒçetnu
      </a>
    </div>
  </div>
</div>

<script>
  // Inject Google Apps Script URL from Jekyll config
  window.GOOGLE_SCRIPT_URL = '{{ site.google_apps_script.url }}';
  // Inject contact channels
  window.CONTACT_CHANNELS = {
    viber: '{{ site.contact.viber }}',
    whatsapp: '{{ site.contact.whatsapp }}',
    facebook: '{{ site.contact.facebook_messenger }}',
    sms: '{{ site.contact.sms }}',
    call: '{{ site.contact.call }}'
  };
</script>
{% unless site.maintenance_mode %}
<script src="/assets/js/checkout.js"></script>
{% endunless %}
<script>
// Check if both shipping and payment methods are selected, enable/disable button
function checkOrderButtonState() {
  const shippingSelected = document.querySelector('input[name="shippingMethod"]:checked');
  const paymentSelected = document.querySelector('input[name="paymentMethod"]:checked');
  const submitBtn = document.getElementById('submitOrderBtn');
  
  if (shippingSelected && paymentSelected) {
    submitBtn.disabled = false;
  } else {
    submitBtn.disabled = true;
  }
}

// Make payment/shipping cards clickable
document.addEventListener('DOMContentLoaded', function() {
  // Make entire card clickable for shipping methods
  document.querySelectorAll('input[name="shippingMethod"]').forEach(radio => {
    radio.addEventListener('change', function() {
      checkOrderButtonState();
    });
  });

  // Make entire card clickable for payment methods
  document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
    radio.addEventListener('change', function() {
      checkOrderButtonState();
    });
  });
  
  // Check initial state
  checkOrderButtonState();
});

// Toggle shipping method descriptions
document.querySelectorAll('input[name="shippingMethod"]').forEach(radio => {
  radio.addEventListener('change', function() {
    // Hide all shipping descriptions
    document.querySelectorAll('.shipping-description').forEach(desc => {
      desc.classList.add('hidden');
    });
    
    // Show description for selected shipping method
    const selectedCard = this.nextElementSibling;
    const description = selectedCard?.querySelector('.shipping-description');
    if (description) {
      description.classList.remove('hidden');
    }
    
    checkOrderButtonState();
  });
});

// Toggle payment method descriptions
document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
  radio.addEventListener('change', function() {
    // Hide all descriptions
    document.querySelectorAll('.payment-description').forEach(desc => {
      desc.classList.add('hidden');
    });
    
    // Show description for selected payment method
    const selectedCard = this.nextElementSibling;
    const description = selectedCard?.querySelector('.payment-description');
    if (description) {
      description.classList.remove('hidden');
    }
    
    checkOrderButtonState();
  });
});

// Show descriptions for default checked options
document.addEventListener('DOMContentLoaded', function() {
  // Show payment description
  const checkedPayment = document.querySelector('input[name="paymentMethod"]:checked');
  if (checkedPayment) {
    const selectedCard = checkedPayment.nextElementSibling;
    const description = selectedCard?.querySelector('.payment-description');
    if (description) {
      description.classList.remove('hidden');
    }
  }

  // Show shipping description
  const checkedShipping = document.querySelector('input[name="shippingMethod"]:checked');
  if (checkedShipping) {
    const selectedCard = checkedShipping.nextElementSibling;
    const description = selectedCard?.querySelector('.shipping-description');
    if (description) {
      description.classList.remove('hidden');
    }
  }
  
  checkOrderButtonState();
});
</script>

<script>
// Show personal contact explanation modal
function showPersonalContactInfo() {
  const modalHtml = `
    <div id="personalContactModal" class="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4">
      <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-8 border border-slate-600 max-w-md w-full">
        <div class="text-center mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
            </svg>
          </div>
          <h2 class="text-2xl font-bold text-white mb-2">Za≈°to liƒçni kontakt?</h2>
        </div>

        <div class="space-y-4 mb-6">
          <p class="text-gray-300 text-sm leading-relaxed">
            Verujemo da je <span class="font-bold text-white">direktan kontakt sa vama najva≈æniji</span> jer nam omoguƒáava da:
          </p>

          <div class="space-y-3">
            <div class="flex items-start gap-3">
              <div class="w-8 h-8 bg-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0">
                <span class="text-lg">üí¨</span>
              </div>
              <div>
                <p class="text-white font-semibold text-sm">Razumemo va≈°e potrebe</p>
                <p class="text-gray-400 text-xs">Direktna komunikacija nam poma≈æe da precizno saznamo ≈°ta ≈æelite</p>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="w-8 h-8 bg-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0">
                <span class="text-lg">‚ú®</span>
              </div>
              <div>
                <p class="text-white font-semibold text-sm">Prilagodimo ponudu</p>
                <p class="text-gray-400 text-xs">Mo≈æemo vam ponuditi personalizovane opcije i savete</p>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="w-8 h-8 bg-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0">
                <span class="text-lg">‚ö°</span>
              </div>
              <div>
                <p class="text-white font-semibold text-sm">Br≈æe re≈°imo dileme</p>
                <p class="text-gray-400 text-xs">Odgovorimo na sva pitanja odmah, bez ƒçekanja</p>
              </div>
            </div>

            <div class="flex items-start gap-3">
              <div class="w-8 h-8 bg-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0">
                <span class="text-lg">‚ù§Ô∏è</span>
              </div>
              <div>
                <p class="text-white font-semibold text-sm">Izgradimo poverenje</p>
                <p class="text-gray-400 text-xs">Liƒçna konekcija sa vama nam je veoma va≈æna</p>
              </div>
            </div>
          </div>

          <div class="bg-purple-900/30 border border-purple-500/50 rounded-xl p-4 mt-6">
            <p class="text-gray-300 text-xs text-center">
              Izaberite jedan od dostupnih naƒçina komunikacije i javite nam se - tu smo da vam pomognemo! üåü
            </p>
          </div>
        </div>

        <button onclick="this.closest('#personalContactModal').remove();"
                class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-bold transition-all shadow-lg hover:from-purple-700 hover:to-pink-700 hover:scale-[1.02] active:scale-[0.98]">
          Razumem
        </button>
      </div>
    </div>
  `;
  
  document.body.insertAdjacentHTML('beforeend', modalHtml);
}
</script>


